<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
      div{
        border: 2px black solid;
        float:left;
      }
      div.inline { float:left; }
    </style>
    <script src="ext_lib/jquery.js"></script>
    <script>
      $(document).ready(function() {
          $("#fwdbtn").click(function(){
              var dock_descriptor = new DockDescriptor();
              dock_descriptor.add_upper_dock([17, 1]);
              dock_descriptor.add_lower_dock([17, 43]);
              dock_descriptor.add_param_dock([115, 25]);
              var sprit = new Sprite('block_res/basic1arg.svg', layer, true);
              sprit.set_label('Forward', 5, 13, 19, 'Calibri', 'black');
              var block1 = new TurtleBlock(sprit, layer, dock_descriptor, forward_block, null, [turtle, draw_tracker, null]);
              block1.params[2] = block1;
              block_tracker.add_block(block1);
              block1.block_id = block_tracker.get_next_id();
          });
          $("#bwdbtn").click(function(){
              var dock_descriptor = new DockDescriptor();
              dock_descriptor.add_upper_dock([17, 1]);
              dock_descriptor.add_lower_dock([17, 43]);
              dock_descriptor.add_param_dock([115, 25]);
              var sprit2 = new Sprite('block_res/basic1arg.svg', layer, true);
              sprit2.set_label('Backward', 5, 13, 19, 'Calibri', 'black');
              var block2 = new TurtleBlock(sprit2, layer, dock_descriptor, backward_block, null, [turtle, draw_tracker, null]);
              block2.params[2] = block2;
              block_tracker.add_block(block2);
              block2.block_id = block_tracker.get_next_id();
          });
          $("#rightbtn").click(function(){
              var dock_descriptor = new DockDescriptor();
              dock_descriptor.add_upper_dock([17, 1]);
              dock_descriptor.add_lower_dock([17, 43]);
              dock_descriptor.add_param_dock([115, 25]);
              var sprit3 = new Sprite('block_res/basic1arg.svg', layer, true);
              sprit3.set_label('Right', 5, 13, 19, 'Calibri', 'black');
              var block3 = new TurtleBlock(sprit3, layer, dock_descriptor, right_block, null, [turtle, draw_tracker, null]);
              block3.params[2] = block3;
              block_tracker.add_block(block3);
              block3.block_id = block_tracker.get_next_id();
          });
          $("#leftbtn").click(function(){
              var dock_descriptor = new DockDescriptor();
              dock_descriptor.add_upper_dock([17, 1]);
              dock_descriptor.add_lower_dock([17, 43]);
              dock_descriptor.add_param_dock([115, 25]);
              var sprit4 = new Sprite('block_res/basic1arg.svg', layer, true);
              sprit4.set_label('Left', 5, 13, 19, 'Calibri', 'black');
              var block4 = new TurtleBlock(sprit4, layer, dock_descriptor, left_block, null, [turtle, draw_tracker, null]);
              block4.params[2] = block4;
              block_tracker.add_block(block4);
              block4.block_id = block_tracker.get_next_id();
          });
          $("#boxbtn").click(function(){
              var dock_descriptor = new DockDescriptor();
              dock_descriptor.add_param_dock([17, 25]);
              var sprit4 = new Sprite('block_res/box.svg', layer, true);
              sprit4.set_label('100', 25, 13, 19, 'Calibri', 'black');
              var block4 = new TurtleBlock(sprit4, layer, dock_descriptor, text_block, get_number, [turtle, draw_tracker, null]);
              block4.params[2] = block4;
              block_tracker.add_block(block4);
              block4.block_id = block_tracker.get_next_id();
          });
          $("#runbtn").click(function(){
              for (var i=0; i<block_tracker.blocks.length; i++){
                  block_tracker.blocks[i].exec_block();
              }
          });
      });
    </script>
  </head>
  <body>
    <input type="submit" id="fwdbtn" value= "Forward block" />
    <input type="submit" id="bwdbtn" value= "Backward block" />
    <input type="submit" id="rightbtn" value= "Right block" />
    <input type="submit" id="leftbtn" value= "Left block" />
    <input type="submit" id="boxbtn" value= "Box block" />
    <input type="submit" id="runbtn" value= "Run" />
    <div><div id="container"></div><div id="container2"></div></div>
    <script src="ext_lib/kinetic-v4.7.4.min.js"></script>
    <script src="block_lib/basic_blocks_func.js"></script>
    <script src="ta_lib/sprites.js"></script>
    <script src="ta_lib/block.js"></script>
    <script src="ta_lib/turtle.js"></script>
    <script src="ta_lib/blocktracker.js"></script>
    <script src="ta_lib/drawtracker.js"></script>
    <script src="ta_lib/dockdescriptor.js"></script>

    <script defer="defer">
      var block_tracker = new BlockTracker();
      
      var stage = new Kinetic.Stage({
        container: 'container',
        width: 600,
        height: 350
      });
      var layer = new Kinetic.Layer();
      var anim = new Kinetic.Animation(function(frame) {}, layer);
      stage.add(layer);
      anim.start();



      var stage2 = new Kinetic.Stage({
        container: 'container2',
        width: 600,
        height: 450
      });

      var layer2 = new Kinetic.Layer();
      var anim2 = new Kinetic.Animation(function(frame) {}, layer2);
      stage2.add(layer2);
      anim2.start();
      var turtle = new Turtle([300, 225], layer2);

      var draw_tracker = new DrawTracker(layer2, turtle);
    </script>
  </body>
</html>
